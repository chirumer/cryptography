<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap');
      text { font-family: 'Roboto', sans-serif; fill: #151313; }
      .title { font-size: 24px; font-weight: bold; text-anchor: middle; }
      .subtitle { font-size: 14px; text-anchor: middle; fill: #584B47; }
      .label { font-size: 14px; text-anchor: middle; }
      .box { fill: #F8FBFB; stroke: #584B47; stroke-width: 2; rx: 10; ry: 10; }
      .group-box { fill: none; stroke: #BEBCB8; stroke-width: 1; stroke-dasharray: 5,5; rx: 10; ry: 10; }
      .arrow { stroke: #584B47; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .emoji { font-size: 30px; text-anchor: middle; }
      .bar-red { fill: #C07864; }
      .bar-gray { fill: #BEBCB8; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#584B47" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#F8FBFB" />

  <!-- Title -->
  <text x="400" y="40" class="title">LDP Protocol Attack Skewing the Emoji Leaderboard</text>

  <!-- Left Side: Regular Users -->
  <g transform="translate(150, 200)">
    <!-- Group Box -->
    <rect x="-100" y="-60" width="200" height="120" class="group-box" />
    
    <text x="0" y="-30" class="label" font-weight="bold">Regular Users</text>
    <text x="0" y="-10" class="subtitle">(Honest Data)</text>
    <text x="0" y="30" class="emoji">ğŸ˜€ ğŸ˜‚ â¤ï¸ ğŸ‘</text>
    <text x="0" y="50" class="label">Varied Emojis</text>
  </g>

  <!-- Arrow Left -> Center -->
  <path d="M 250 200 L 300 200" class="arrow" />

  <!-- Center: Apple Server -->
  <g transform="translate(400, 200)">
    <rect x="-100" y="-60" width="200" height="120" class="box" />
    <text x="0" y="-30" class="label" font-weight="bold">Apple Server</text>
    <text x="0" y="-10" class="subtitle">(Data Collection)</text>
    
    <!-- Privacy Filter Inner Box -->
    <rect x="-80" y="10" width="160" height="40" fill="#BEBCB8" opacity="0.3" rx="5" />
    <text x="0" y="35" class="label">Privacy Filter</text>
  </g>

  <!-- Arrow Right -> Center -->
  <path d="M 550 200 L 500 200" class="arrow" />

  <!-- Right Side: Attackers -->
  <g transform="translate(650, 200)">
    <!-- Group Box -->
    <rect x="-100" y="-60" width="200" height="120" class="group-box" />

    <text x="0" y="-30" class="label" font-weight="bold">Attackers</text>
    <text x="0" y="-10" class="subtitle">(Malicious Data)</text>
    <text x="0" y="30" class="emoji">ğŸ˜  ğŸ˜  ğŸ˜  ğŸ˜ </text>
    <text x="0" y="50" class="label" fill="#C07864">Angry Emojis</text>
  </g>

  <!-- Arrow Center -> Bottom -->
  <path d="M 400 260 L 400 350" class="arrow" />

  <!-- Bottom: Leaderboard -->
  <g transform="translate(400, 450)">
    <!-- Group Box -->
    <rect x="-200" y="-80" width="400" height="180" class="group-box" />

    <text x="0" y="-50" class="title" font-size="20px">Top Emojis Leaderboard</text>
    
    <!-- Bar 1: Angry -->
    <text x="-120" y="-10" class="emoji">ğŸ˜ </text>
    <rect x="-90" y="-30" width="250" height="30" class="bar-red" />
    <text x="180" y="-10" class="label" text-anchor="start">High Count</text>

    <!-- Bar 2: Laughing -->
    <text x="-120" y="40" class="emoji">ğŸ˜‚</text>
    <rect x="-90" y="20" width="150" height="30" class="bar-gray" />
    <text x="80" y="40" class="label" text-anchor="start">Moderate</text>

    <!-- Bar 3: Heart -->
    <text x="-120" y="90" class="emoji">â¤ï¸</text>
    <rect x="-90" y="70" width="80" height="30" class="bar-gray" />
    <text x="10" y="90" class="label" text-anchor="start">Low</text>
  </g>

</svg>
